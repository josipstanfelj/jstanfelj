<div class="container">
  <h2>Dodaj Proizvod</h2>
  <form [formGroup]="productForm" (ngSubmit)="onSubmitProduct()">
    <div class="form-group">
      <label for="name1">Naziv proizvoda</label>
      <input id="name1" formControlName="name" class="form-control" required>
    </div>
    <div class="form-group">
      <label for="description1">Opis proizvoda</label>
      <textarea id="description1" formControlName="description" class="form-control" required></textarea>
    </div>
    <div class="form-group">
      <label for="price1">Cijena</label>
      <input id="price1" formControlName="price" class="form-control" type="number" required>
    </div>
    <div class="form-group">
      <label for="stock1">Stanje</label>
      <input id="stock1" formControlName="stock" class="form-control" type="number" required>
    </div>
    <div class="form-group">
      <label for="category1">Kategorija</label>
      <select id="category1" formControlName="category" class="form-control" required>
        <option *ngFor="let category of categories" [value]="category._id">{{ category.name }}</option>
      </select>
    </div>
    <div class="form-group">
      <label for="image1">Slika</label>
      <input id="image1" formControlName="image" class="form-control" required>
    </div>
    <button type="submit" class="btn btn-primary">Dodaj proizvod</button>
  </form>

  <h2>Lista Proizvoda</h2>
  <table class="table">
    <thead>
    <tr>
      <th>Naziv</th>
      <th>Opis</th>
      <th>Cijena</th>
      <th>Stanje</th>
      <th>Akcije</th>
    </tr>
    </thead>
    <tbody>
    <tr *ngFor="let product of products">
      <td>{{ product.name }}</td>
      <td>{{ product.description }}</td>
      <td>{{ product.price }}</td>
      <td>{{ product.stock }}</td>
      <td>
        <button class="btn btn-warning" (click)="onEditProduct(product)">Uredi</button>
        <button class="btn btn-danger" (click)="onDeleteProduct(product._id)">Izbriši</button>
      </td>
    </tr>
    </tbody>
  </table>

  <div *ngIf="editingProduct">
    <h2>Uredi Proizvod</h2>
    <form [formGroup]="productFormEdit" (ngSubmit)="onSaveProduct()">
      <div class="form-group">
        <label for="name2">Naziv proizvoda</label>
        <input id="name2" formControlName="name" class="form-control" required>
      </div>
      <div class="form-group">
        <label for="description2">Opis proizvoda</label>
        <textarea id="description2" formControlName="description" class="form-control" required></textarea>
      </div>
      <div class="form-group">
        <label for="price2">Cijena</label>
        <input id="price2" formControlName="price" class="form-control" type="number" required>
      </div>
      <div class="form-group">
        <label for="stock2">Stanje</label>
        <input id="stock2" formControlName="stock" class="form-control" type="number" required>
      </div>
      <div class="form-group">
        <label for="category2">Kategorija</label>
        <select id="category2" formControlName="category" class="form-control" required>
          <option *ngFor="let category of categories" [value]="category._id">{{ category.name }}</option>
        </select>
      </div>
      <div class="form-group">
        <label for="image">Slika</label>
        <input id="image" formControlName="image" class="form-control" required>
      </div>
      <button type="submit" class="btn btn-primary">Pohrani promjene</button>
    </form>
  </div>

  <h2>Dodaj Kategoriju</h2>
  <form [formGroup]="categoryForm" (ngSubmit)="onSubmitCategory()">
    <div class="form-group">
      <label for="name3">Naziv kategorije</label>
      <input id="name3" formControlName="name" class="form-control" required>
    </div>
    <div class="form-group">
      <label for="description3">Opis kategorije</label>
      <textarea id="description3" formControlName="description" class="form-control" required></textarea>
    </div>
    <button type="submit" class="btn btn-primary">Dodaj kategoriju</button>
  </form>

  <h2>Lista Kategorija</h2>
  <table class="table">
    <thead>
    <tr>
      <th>Naziv</th>
      <th>Opis</th>
      <th>Akcije</th>
    </tr>
    </thead>
    <tbody>
    <tr *ngFor="let category of categories">
      <td>{{ category.name }}</td>
      <td>{{ category.description }}</td>
      <td>
        <button class="btn btn-warning" (click)="onEditCategory(category)">Uredi</button>
        <button class="btn btn-danger" (click)="onDeleteCategory(category._id)">Izbriši</button>
      </td>
    </tr>
    </tbody>
  </table>

  <div *ngIf="editingCategory">
    <h2>Uredi Kategoriju</h2>
    <form [formGroup]="categoryFormEdit" (ngSubmit)="onSaveCategory()">
      <div class="form-group">
        <label for="name4">Naziv kategorije</label>
        <input id="name4" formControlName="name" class="form-control" required>
      </div>
      <div class="form-group">
        <label for="description4">Opis kategorije</label>
        <textarea id="description4" formControlName="description" class="form-control" required></textarea>
      </div>
      <button type="submit" class="btn btn-primary">Pohrani promjene</button>
    </form>
  </div>

  <div *ngIf="successMessage" class="alert alert-success mt-3">{{ successMessage }}</div>
  <div *ngIf="errorMessage" class="alert alert-danger mt-3">{{ errorMessage }}</div>
</div>

